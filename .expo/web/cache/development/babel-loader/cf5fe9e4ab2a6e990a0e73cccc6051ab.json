{"ast":null,"code":"\n\n'use strict';\n\nvar invariant = require('invariant');\nvar TRACE_TAG_REACT_APPS = 1 << 17;\nvar TRACE_TAG_JS_VM_CALLS = 1 << 27;\n\nvar _enabled = false;\nvar _asyncCookie = 0;\nvar _markStack = [];\nvar _markStackIndex = -1;\nvar _canInstallReactHook = false;\n\nvar REACT_MARKER = \"\\u269B\";\nvar userTimingPolyfill = __DEV__ ? {\n  mark: function mark(markName) {\n    if (_enabled) {\n      _markStackIndex++;\n      _markStack[_markStackIndex] = markName;\n      var systraceLabel = markName;\n      if (markName[0] === REACT_MARKER) {\n        var indexOfId = markName.lastIndexOf(' (#');\n        var cutoffIndex = indexOfId !== -1 ? indexOfId : markName.length;\n        systraceLabel = markName.slice(2, cutoffIndex);\n      }\n      Systrace.beginEvent(systraceLabel);\n    }\n  },\n  measure: function measure(measureName, startMark, endMark) {\n    if (_enabled) {\n      invariant(typeof measureName === 'string' && typeof startMark === 'string' && typeof endMark === 'undefined', 'Only performance.measure(string, string) overload is supported.');\n      var topMark = _markStack[_markStackIndex];\n      invariant(startMark === topMark, 'There was a mismatching performance.measure() call. ' + 'Expected \"%s\" but got \"%s.\"', topMark, startMark);\n      _markStackIndex--;\n      Systrace.endEvent();\n    }\n  },\n  clearMarks: function clearMarks(markName) {\n    if (_enabled) {\n      if (_markStackIndex === -1) {\n        return;\n      }\n      if (markName === _markStack[_markStackIndex]) {\n        if (userTimingPolyfill != null) {\n          userTimingPolyfill.measure(markName, markName);\n        }\n      }\n    }\n  },\n  clearMeasures: function clearMeasures() {\n  }\n} : null;\nfunction installPerformanceHooks(polyfill) {\n  if (polyfill) {\n    if (global.performance === undefined) {\n      global.performance = {};\n    }\n    Object.keys(polyfill).forEach(function (methodName) {\n      if (typeof global.performance[methodName] !== 'function') {\n        global.performance[methodName] = polyfill[methodName];\n      }\n    });\n  }\n}\nvar Systrace = {\n  installReactHook: function installReactHook() {\n    if (_enabled) {\n      if (__DEV__) {\n        installPerformanceHooks(userTimingPolyfill);\n      }\n    }\n    _canInstallReactHook = true;\n  },\n  setEnabled: function setEnabled(enabled) {\n    if (_enabled !== enabled) {\n      if (__DEV__) {\n        if (enabled) {\n          global.nativeTraceBeginLegacy && global.nativeTraceBeginLegacy(TRACE_TAG_JS_VM_CALLS);\n        } else {\n          global.nativeTraceEndLegacy && global.nativeTraceEndLegacy(TRACE_TAG_JS_VM_CALLS);\n        }\n        if (_canInstallReactHook) {\n          if (enabled) {\n            installPerformanceHooks(userTimingPolyfill);\n          }\n        }\n      }\n      _enabled = enabled;\n    }\n  },\n  isEnabled: function isEnabled() {\n    return _enabled;\n  },\n  beginEvent: function beginEvent(profileName, args) {\n    if (_enabled) {\n      var profileNameString = typeof profileName === 'function' ? profileName() : profileName;\n      global.nativeTraceBeginSection(TRACE_TAG_REACT_APPS, profileNameString, args);\n    }\n  },\n  endEvent: function endEvent() {\n    if (_enabled) {\n      global.nativeTraceEndSection(TRACE_TAG_REACT_APPS);\n    }\n  },\n  beginAsyncEvent: function beginAsyncEvent(profileName) {\n    var cookie = _asyncCookie;\n    if (_enabled) {\n      _asyncCookie++;\n      var profileNameString = typeof profileName === 'function' ? profileName() : profileName;\n      global.nativeTraceBeginAsyncSection(TRACE_TAG_REACT_APPS, profileNameString, cookie);\n    }\n    return cookie;\n  },\n  endAsyncEvent: function endAsyncEvent(profileName, cookie) {\n    if (_enabled) {\n      var profileNameString = typeof profileName === 'function' ? profileName() : profileName;\n      global.nativeTraceEndAsyncSection(TRACE_TAG_REACT_APPS, profileNameString, cookie);\n    }\n  },\n  counterEvent: function counterEvent(profileName, value) {\n    if (_enabled) {\n      var profileNameString = typeof profileName === 'function' ? profileName() : profileName;\n      global.nativeTraceCounter && global.nativeTraceCounter(TRACE_TAG_REACT_APPS, profileNameString, value);\n    }\n  }\n};\nif (__DEV__) {\n  global[(global.__METRO_GLOBAL_PREFIX__ || '') + '__SYSTRACE'] = Systrace;\n}\nmodule.exports = Systrace;","map":{"version":3,"names":["invariant","require","TRACE_TAG_REACT_APPS","TRACE_TAG_JS_VM_CALLS","_enabled","_asyncCookie","_markStack","_markStackIndex","_canInstallReactHook","REACT_MARKER","userTimingPolyfill","__DEV__","mark","markName","systraceLabel","indexOfId","lastIndexOf","cutoffIndex","length","slice","Systrace","beginEvent","measure","measureName","startMark","endMark","topMark","endEvent","clearMarks","clearMeasures","installPerformanceHooks","polyfill","global","performance","undefined","Object","keys","forEach","methodName","installReactHook","setEnabled","enabled","nativeTraceBeginLegacy","nativeTraceEndLegacy","isEnabled","profileName","args","profileNameString","nativeTraceBeginSection","nativeTraceEndSection","beginAsyncEvent","cookie","nativeTraceBeginAsyncSection","endAsyncEvent","nativeTraceEndAsyncSection","counterEvent","value","nativeTraceCounter","__METRO_GLOBAL_PREFIX__","module","exports"],"sources":["/Users/hez/code/boatApp/node_modules/react-native/Libraries/Performance/Systrace.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n * @format\n */\n\n'use strict';\n\nconst invariant = require('invariant');\n\nconst TRACE_TAG_REACT_APPS = 1 << 17; // eslint-disable-line no-bitwise\nconst TRACE_TAG_JS_VM_CALLS = 1 << 27; // eslint-disable-line no-bitwise\n\nlet _enabled = false;\nlet _asyncCookie = 0;\nconst _markStack = [];\nlet _markStackIndex = -1;\nlet _canInstallReactHook = false;\n\n// Implements a subset of User Timing API necessary for React measurements.\n// https://developer.mozilla.org/en-US/docs/Web/API/User_Timing_API\nconst REACT_MARKER = '\\u269B';\nconst userTimingPolyfill = __DEV__\n  ? {\n      mark(markName: string) {\n        if (_enabled) {\n          _markStackIndex++;\n          _markStack[_markStackIndex] = markName;\n          let systraceLabel = markName;\n          // Since perf measurements are a shared namespace in User Timing API,\n          // we prefix all React results with a React emoji.\n          if (markName[0] === REACT_MARKER) {\n            // This is coming from React.\n            // Removing component IDs keeps trace colors stable.\n            const indexOfId = markName.lastIndexOf(' (#');\n            const cutoffIndex = indexOfId !== -1 ? indexOfId : markName.length;\n            // Also cut off the emoji because it breaks Systrace\n            systraceLabel = markName.slice(2, cutoffIndex);\n          }\n          Systrace.beginEvent(systraceLabel);\n        }\n      },\n      measure(measureName: string, startMark: ?string, endMark: ?string) {\n        if (_enabled) {\n          invariant(\n            typeof measureName === 'string' &&\n              typeof startMark === 'string' &&\n              typeof endMark === 'undefined',\n            'Only performance.measure(string, string) overload is supported.',\n          );\n          const topMark = _markStack[_markStackIndex];\n          invariant(\n            startMark === topMark,\n            'There was a mismatching performance.measure() call. ' +\n              'Expected \"%s\" but got \"%s.\"',\n            topMark,\n            startMark,\n          );\n          _markStackIndex--;\n          // We can't use more descriptive measureName because Systrace doesn't\n          // let us edit labels post factum.\n          Systrace.endEvent();\n        }\n      },\n      clearMarks(markName: string) {\n        if (_enabled) {\n          if (_markStackIndex === -1) {\n            return;\n          }\n          if (markName === _markStack[_markStackIndex]) {\n            // React uses this for \"cancelling\" started measurements.\n            // Systrace doesn't support deleting measurements, so we just stop them.\n            if (userTimingPolyfill != null) {\n              userTimingPolyfill.measure(markName, markName);\n            }\n          }\n        }\n      },\n      clearMeasures() {\n        // React calls this to avoid memory leaks in browsers, but we don't keep\n        // measurements anyway.\n      },\n    }\n  : null;\n\nfunction installPerformanceHooks(\n  polyfill: null | $TEMPORARY$object<{\n    clearMarks(markName: string): void,\n    clearMeasures(): void,\n    mark(markName: string): void,\n    measure(measureName: string, startMark: ?string, endMark: ?string): void,\n  }>,\n) {\n  if (polyfill) {\n    if (global.performance === undefined) {\n      global.performance = {};\n    }\n\n    Object.keys(polyfill).forEach(methodName => {\n      if (typeof global.performance[methodName] !== 'function') {\n        global.performance[methodName] = polyfill[methodName];\n      }\n    });\n  }\n}\n\nconst Systrace = {\n  installReactHook() {\n    if (_enabled) {\n      if (__DEV__) {\n        installPerformanceHooks(userTimingPolyfill);\n      }\n    }\n    _canInstallReactHook = true;\n  },\n\n  setEnabled(enabled: boolean) {\n    if (_enabled !== enabled) {\n      if (__DEV__) {\n        if (enabled) {\n          global.nativeTraceBeginLegacy &&\n            global.nativeTraceBeginLegacy(TRACE_TAG_JS_VM_CALLS);\n        } else {\n          global.nativeTraceEndLegacy &&\n            global.nativeTraceEndLegacy(TRACE_TAG_JS_VM_CALLS);\n        }\n        if (_canInstallReactHook) {\n          if (enabled) {\n            installPerformanceHooks(userTimingPolyfill);\n          }\n        }\n      }\n      _enabled = enabled;\n    }\n  },\n\n  isEnabled(): boolean {\n    return _enabled;\n  },\n\n  /**\n   * beginEvent/endEvent for starting and then ending a profile within the same call stack frame\n   **/\n  beginEvent(\n    profileName?: string | (() => string),\n    args?: {[string]: string, ...},\n  ) {\n    if (_enabled) {\n      const profileNameString =\n        typeof profileName === 'function' ? profileName() : profileName;\n      global.nativeTraceBeginSection(\n        TRACE_TAG_REACT_APPS,\n        profileNameString,\n        args,\n      );\n    }\n  },\n\n  endEvent() {\n    if (_enabled) {\n      global.nativeTraceEndSection(TRACE_TAG_REACT_APPS);\n    }\n  },\n\n  /**\n   * beginAsyncEvent/endAsyncEvent for starting and then ending a profile where the end can either\n   * occur on another thread or out of the current stack frame, eg await\n   * the returned cookie variable should be used as input into the endAsyncEvent call to end the profile\n   **/\n  beginAsyncEvent(profileName?: string | (() => string)): number {\n    const cookie = _asyncCookie;\n    if (_enabled) {\n      _asyncCookie++;\n      const profileNameString =\n        typeof profileName === 'function' ? profileName() : profileName;\n      global.nativeTraceBeginAsyncSection(\n        TRACE_TAG_REACT_APPS,\n        profileNameString,\n        cookie,\n      );\n    }\n    return cookie;\n  },\n\n  endAsyncEvent(profileName?: string | (() => string), cookie?: number) {\n    if (_enabled) {\n      const profileNameString =\n        typeof profileName === 'function' ? profileName() : profileName;\n      global.nativeTraceEndAsyncSection(\n        TRACE_TAG_REACT_APPS,\n        profileNameString,\n        cookie,\n      );\n    }\n  },\n\n  /**\n   * counterEvent registers the value to the profileName on the systrace timeline\n   **/\n  counterEvent(profileName?: string | (() => string), value?: number) {\n    if (_enabled) {\n      const profileNameString =\n        typeof profileName === 'function' ? profileName() : profileName;\n      global.nativeTraceCounter &&\n        global.nativeTraceCounter(\n          TRACE_TAG_REACT_APPS,\n          profileNameString,\n          value,\n        );\n    }\n  },\n};\n\nif (__DEV__) {\n  // The metro require polyfill can not have dependencies (true for all polyfills).\n  // Ensure that `Systrace` is available in polyfill by exposing it globally.\n  global[(global.__METRO_GLOBAL_PREFIX__ || '') + '__SYSTRACE'] = Systrace;\n}\n\nmodule.exports = Systrace;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}