{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport useColorScheme from \"react-native-web/dist/exports/useColorScheme\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { styles } from \"../css\";\nimport { Portrait } from \"../component/portrait\";\nimport * as React from \"react\";\nimport { useFocusEffect } from '@react-navigation/native';\nimport { _addStore, _name, _storeDel, _storeLi, _storeQuery, _User } from \"../_Api\";\nimport { Btn, TextClick } from \"../component/btn\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { upAvatar } from \"../utils/oss\";\nimport { Audio } from \"expo-av\";\nimport { memberFun } from \"../utils/time\";\nimport * as Clipboard from \"expo-clipboard\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar host = 'http://192.168.0.100:3000/audio/';\nexport function Me(_ref) {\n  var navigation = _ref.navigation;\n  var colorScheme = useColorScheme();\n  var C1 = colorScheme == 'light' ? styles.lightC1 : styles.darkC1;\n  var C2 = colorScheme == 'light' ? styles.lightC2 : styles.darkC2;\n  var BbC = colorScheme == 'light' ? styles.lightBbC : styles.darkBbC;\n  var MsgColor = colorScheme == 'light' ? styles.lightMsg : styles.darkMsg;\n  var MstText = colorScheme == 'light' ? {\n    color: '#222222'\n  } : {\n    color: '#ffffff'\n  };\n  var MeBbc = colorScheme == 'light' ? styles.lightNsgBcB : styles.darkNsgBcB;\n  var MsgColorTouchable = colorScheme == 'light' ? '#EAEAEA' : '#333C52';\n  var placeholderColor = colorScheme == 'light' ? '#222222' : '#ffffff';\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    load = _useState2[0],\n    setLoad = _useState2[1];\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    user = _useState4[0],\n    setUser = _useState4[1];\n  var userRef = useRef(user);\n  userRef.current = user;\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    name = _useState6[0],\n    setName = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    upName = _useState8[0],\n    setUpName = _useState8[1];\n  var _useState9 = useState([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    store = _useState10[0],\n    setStore = _useState10[1];\n  var _useState11 = useState(NaN),\n    _useState12 = _slicedToArray(_useState11, 2),\n    on = _useState12[0],\n    setOn = _useState12[1];\n  var _useState13 = useState([]),\n    _useState14 = _slicedToArray(_useState13, 2),\n    word = _useState14[0],\n    setWord = _useState14[1];\n  navigation.addListener('focus', function () {\n    console.log('更新用户信息');\n    _User(function (cb) {\n      setUser(cb);\n      _storeLi(function (cb) {\n        console.log('收藏列表', cb);\n        setStore(cb);\n      });\n    });\n    navigation.setOptions({\n      title: \"我的\",\n      headerRight: function headerRight() {\n        return _jsx(Text, {\n          style: [styles.T4, C2, styles.bold],\n          onPress: function onPress() {\n            return Alert.alert('退出登陆', '', [{\n              text: '确定',\n              onPress: function onPress() {\n                AsyncStorage.removeItem('token');\n                AsyncStorage.removeItem('tokenIn');\n                navigation.navigate('Login');\n              }\n            }, {\n              text: '取消',\n              onPress: function onPress() {}\n            }]);\n          },\n          children: \"\\u767B\\u51FA\"\n        });\n      }\n    });\n    return function () {\n      console.log('离开我的');\n    };\n  });\n  function onStore(text) {\n    setStore([]);\n    var arr = store;\n    _storeQuery(text, function (cb) {\n      console.log('搜索收藏', cb);\n      if (cb.length) {\n        setStore(cb);\n      } else {\n        Alert.alert('搜索结果', '没有你想要的结果、', [{\n          text: 'ok',\n          onPress: function onPress() {\n            return setStore(arr);\n          }\n        }]);\n      }\n    });\n  }\n  var _React$useState = React.useState(),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    sound = _React$useState2[0],\n    setSound = _React$useState2[1];\n  var playSound = function () {\n    var _ref2 = _asyncToGenerator(function* (i, url) {\n      console.log('播放声音', i, url);\n      if (url != 'null') {\n        setOn(i);\n        var _yield$Audio$Sound$cr = yield Audio.Sound.createAsync({\n            uri: url\n          }),\n          _sound = _yield$Audio$Sound$cr.sound;\n        setSound(_sound);\n        console.log('Playing Sound');\n        yield _sound.playAsync();\n      } else {\n        setOn(NaN);\n        sound.unloadAsync();\n      }\n    });\n    return function playSound(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    return sound ? function () {\n      console.log('Unloading Sound');\n      sound.unloadAsync();\n    } : undefined;\n  }, [sound]);\n  return _jsxs(View, {\n    style: [styles.Me, C1],\n    children: [_jsxs(View, {\n      style: styles.MeUse,\n      children: [_jsx(TouchableHighlight, {\n        underlayColor: MsgColorTouchable,\n        onPress: function onPress() {\n          return Alert.alert('替换头像', '', [{\n            text: '换头像',\n            onPress: function onPress() {\n              return upAvatar(user.id, function (cb) {\n                setUser(cb);\n              });\n            }\n          }, {\n            text: '取消',\n            onPress: function onPress() {}\n          }]);\n        },\n        children: _jsx(Portrait, {\n          w: 52,\n          h: 52,\n          r: 50,\n          t: user.emoji,\n          url: user.avatar\n        })\n      }), _jsxs(View, {\n        style: styles.MeUseText,\n        children: [upName ? _jsx(View, {\n          style: styles.upName,\n          children: _jsx(TextInput, {\n            returnKeyType: \"done\",\n            style: [styles.upNameInput, MstText, {\n              backgroundColor: MsgColorTouchable\n            }],\n            defaultValue: user.name,\n            onSubmitEditing: function onSubmitEditing(_ref3) {\n              var _ref3$nativeEvent = _ref3.nativeEvent,\n                text = _ref3$nativeEvent.text,\n                eventCount = _ref3$nativeEvent.eventCount,\n                target = _ref3$nativeEvent.target;\n              return Alert.alert('昵称变动', '确认修改为:' + text, [{\n                text: '确定',\n                onPress: function onPress() {\n                  _name(text, function (newUser) {\n                    return setUser(newUser);\n                  });\n                  setUpName(false);\n                }\n              }, {\n                text: '取消',\n                onPress: function onPress() {\n                  return console.log(111);\n                }\n              }]);\n            }\n          })\n        }) : _jsx(TouchableHighlight, {\n          underlayColor: MsgColorTouchable,\n          onPress: function onPress() {\n            return Alert.alert('修改昵称', '', [{\n              text: '修改',\n              onPress: function onPress() {\n                return setUpName(true);\n              }\n            }, {\n              text: '取消',\n              onPress: function onPress() {}\n            }]);\n          },\n          children: _jsxs(Text, {\n            style: [styles.T3, styles.bold, C2],\n            children: [user.name, \" \"]\n          })\n        }), _jsxs(Text, {\n          style: [styles.T5, C2, styles.bold, {\n            opacity: 0.9,\n            marginTop: 6\n          }],\n          children: [\"\\uD83C\\uDD94 \", user.id, \" \"]\n        })]\n      }), _jsx(Text, {\n        children: \"  \"\n      }), _jsx(Text, {\n        style: [styles.T5, styles.bold, styles.vip, {\n          borderWidth: 0\n        }],\n        onPress: function onPress() {\n          return Alert.alert('激活码', '【词裂】提高词汇与句法，【跟读】加强听力口语', [{\n            text: '激活码',\n            onPress: function onPress() {\n              return navigation.navigate('Ticket');\n            }\n          }, {\n            text: '充值',\n            onPress: function onPress() {\n              return Alert.alert('正在开发中、', '');\n            }\n          }, {\n            text: '取消',\n            onPress: function onPress() {}\n          }]);\n        },\n        children: memberFun(user.member)\n      })]\n    }), _jsxs(View, {\n      style: [styles.MeInput],\n      children: [_jsx(Text, {\n        style: [MstText, styles.T5, styles.bold],\n        children: \"\\uD83D\\uDD0D\"\n      }), _jsx(TextInput, {\n        style: [styles.MeInputs, styles.T5, MsgColor, MstText, {\n          marginRight: 10\n        }],\n        placeholder: '搜索收藏夹',\n        placeholderTextColor: placeholderColor,\n        returnKeyType: \"search\",\n        onSubmitEditing: function onSubmitEditing(_ref4) {\n          var _ref4$nativeEvent = _ref4.nativeEvent,\n            text = _ref4$nativeEvent.text,\n            eventCount = _ref4$nativeEvent.eventCount,\n            target = _ref4$nativeEvent.target;\n          return onStore(text);\n        }\n      })]\n    }), _jsx(Modal, {\n      visible: Boolean(word.length),\n      onRequestClose: function onRequestClose() {\n        return setWord([]);\n      },\n      transparent: true,\n      presentationStyle: 'overFullScreen',\n      animationType: \"slide\",\n      children: _jsxs(View, {\n        style: [styles.Word],\n        children: [_jsx(Text, {\n          style: [styles.T4, styles.WordBtn],\n          onPress: function onPress() {\n            return setWord([]);\n          },\n          children: \"\\u274C\"\n        }), _jsx(View, {\n          style: [styles.Words, C1],\n          children: word.map(function (item, index) {\n            return _jsxs(TouchableOpacity, {\n              children: [_jsxs(Text, {\n                style: [styles.T5, styles.bold, {\n                  marginTop: 5,\n                  marginBottom: 10\n                }, MstText],\n                children: [item.key, \" \"]\n              }), item.value.map(function (items, i) {\n                return _jsx(View, {\n                  children: _jsxs(Text, {\n                    style: [styles.T5, MstText, {\n                      marginBottom: 10,\n                      opacity: 0.8\n                    }],\n                    children: [items, \" \"]\n                  })\n                }, 'wodrs' + i);\n              }), _jsx(View, {\n                style: [BbC, styles.listBbC]\n              })]\n            }, 'wodr' + index);\n          })\n        })]\n      })\n    }), store.length ? _jsx(FlatList, {\n      data: store,\n      refreshing: load,\n      onRefresh: function onRefresh() {\n        return _storeLi(function (cb) {\n          console.log('收藏列表', cb);\n          setStore(cb);\n        });\n      },\n      renderItem: function renderItem(_ref5) {\n        var item = _ref5.item,\n          index = _ref5.index;\n        return _jsxs(View, {\n          style: [styles.ImMsg, {\n            marginLeft: 15\n          }],\n          children: [_jsx(Portrait, {\n            w: 32,\n            h: 32,\n            r: 7,\n            url: item.user.avatar,\n            t: item.user.emoji\n          }), _jsx(LeftMsg, {\n            data: item,\n            i: index,\n            on: on,\n            omWord: function omWord(cd) {\n              return setWord(cd);\n            },\n            onSound: function onSound(i, url) {\n              return playSound(i, url);\n            },\n            storeUp: function storeUp() {\n              return _storeLi(function (cb) {\n                setStore(cb);\n              });\n            }\n          })]\n        });\n      }\n    }) : _jsx(ActivityIndicator, {})]\n  });\n}\nfunction LeftMsg(props) {\n  var data = props.data,\n    storeUp = props.storeUp,\n    onSound = props.onSound,\n    i = props.i,\n    on = props.on,\n    omWord = props.omWord;\n  var colorScheme = useColorScheme();\n  var MsgColor = colorScheme == 'light' ? styles.lightMsg : styles.darkMsg;\n  var MsgColorTouchable = colorScheme == 'light' ? '#EAEAEA' : '#333C52';\n  var MstText = colorScheme == 'light' ? {\n    color: '#222222'\n  } : {\n    color: '#ffffff'\n  };\n  var lightNsgBcB = colorScheme == 'light' ? styles.lightNsgBcB : styles.darkNsgBcB;\n  var window = useWindowDimensions();\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    show = _useState16[0],\n    setShow = _useState16[1];\n  switch (data.tIm) {\n    case 1:\n      return _jsxs(View, {\n        style: [styles.msgRow],\n        children: [_jsxs(View, {\n          style: [{\n            flexDirection: \"row\",\n            alignItems: \"center\"\n          }],\n          children: [_jsxs(TouchableOpacity, {\n            style: [styles.msgText, {\n              maxWidth: 0.6 * window.width\n            }, MsgColor],\n            onPress: function onPress() {\n              return data.url == 'null' ? onSound(i, 'null') : onSound(i, host + data.url);\n            },\n            onLongPress: function onLongPress() {\n              setShow(true);\n              setTimeout(function () {\n                setShow(false);\n              }, 3000);\n            },\n            children: [_jsx(Text, {\n              style: [styles.T5, MstText, styles.en, {\n                opacity: 0.8\n              }],\n              children: data.q\n            }), _jsx(Text, {\n              style: [styles.T6, MstText, styles.en, {\n                opacity: 0.8\n              }],\n              children: data.enQ\n            })]\n          }), i == on ? _jsx(Text, {\n            style: [styles.msgAudio, styles.T6],\n            children: \" \\uD83C\\uDFB5\"\n          }) : '']\n        }), show ? _jsxs(View, {\n          style: [styles.flot, MsgColor],\n          children: [data.word.length ? _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return omWord(data.word);\n            },\n            children: _jsx(Text, {\n              style: [MstText, styles.flotText],\n              children: \" \\u8BCD\\u5178 \"\n            })\n          }) : '', data.word.length ? _jsx(View, {\n            style: [styles.flotHx, lightNsgBcB]\n          }) : '', _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return _storeDel(data._id, function (cb) {\n                storeUp();\n                setShow(false);\n              });\n            },\n            children: _jsx(Text, {\n              style: [styles.flotText, MstText],\n              children: \"\\u5220\\u9664 \"\n            })\n          }), _jsx(View, {\n            style: [styles.flotHx, lightNsgBcB]\n          }), _jsx(TouchableOpacity, {\n            onPress: _asyncToGenerator(function* () {\n              yield Clipboard.setStringAsync(data.enQ);\n              setShow(false);\n            }),\n            children: _jsx(Text, {\n              style: [styles.flotText, MstText],\n              children: \"\\u590D\\u5236\\u8BD1\\u6587\"\n            })\n          })]\n        }) : '']\n      });\n      break;\n    case 2:\n      return _jsx(View, {\n        style: [styles.msgRow],\n        children: _jsx(TouchableHighlight, {\n          style: [styles.msgText, MsgColor],\n          activeOpacity: 0.3,\n          onPress: function onPress() {},\n          underlayColor: MsgColorTouchable,\n          children: _jsx(Text, {\n            style: [styles.T5, styles.en, MstText],\n            children: \" 34 \\\"\"\n          })\n        })\n      });\n      break;\n    case 3:\n      return _jsx(View, {\n        style: [styles.msgRow],\n        children: _jsx(TouchableHighlight, {\n          activeOpacity: 0.5,\n          underlayColor: MsgColorTouchable,\n          onPress: function onPress() {},\n          children: _jsx(MsgImg, {})\n        })\n      });\n      break;\n  }\n}\nfunction MsgImg(props) {\n  var _useState17 = useState(200),\n    _useState18 = _slicedToArray(_useState17, 2),\n    w = _useState18[0],\n    setW = _useState18[1];\n  var _useState19 = useState(200),\n    _useState20 = _slicedToArray(_useState19, 2),\n    h = _useState20[0],\n    setH = _useState20[1];\n  var window = useWindowDimensions();\n  useEffect(function () {\n    Image.getSize(props.url, function (w, h) {\n      var maxWidth = window.width * 0.7;\n      if (window.width < w) {\n        setH(h * (maxWidth / w));\n        setW(maxWidth);\n      } else {\n        setH(h);\n        setW(w);\n      }\n    });\n  }, []);\n  return _jsx(Image, {\n    style: [{\n      width: w,\n      height: h,\n      borderRadius: 5\n    }],\n    source: {\n      uri: props.url\n    }\n  });\n}","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","styles","Portrait","React","useFocusEffect","_addStore","_name","_storeDel","_storeLi","_storeQuery","_User","Btn","TextClick","ImagePicker","upAvatar","Audio","memberFun","Clipboard","AsyncStorage","host","Me","navigation","colorScheme","useColorScheme","C1","lightC1","darkC1","C2","lightC2","darkC2","BbC","lightBbC","darkBbC","MsgColor","lightMsg","darkMsg","MstText","color","MeBbc","lightNsgBcB","darkNsgBcB","MsgColorTouchable","placeholderColor","load","setLoad","user","setUser","userRef","current","name","setName","upName","setUpName","store","setStore","NaN","on","setOn","word","setWord","addListener","console","log","cb","setOptions","title","headerRight","T4","bold","Alert","alert","text","onPress","removeItem","navigate","onStore","arr","length","sound","setSound","playSound","i","url","Sound","createAsync","uri","playAsync","unloadAsync","undefined","MeUse","id","emoji","avatar","MeUseText","upNameInput","backgroundColor","nativeEvent","eventCount","target","newUser","T3","T5","opacity","marginTop","vip","borderWidth","member","MeInput","MeInputs","marginRight","Boolean","Word","WordBtn","Words","map","item","index","marginBottom","key","value","items","listBbC","ImMsg","marginLeft","cd","LeftMsg","props","data","storeUp","onSound","omWord","window","useWindowDimensions","show","setShow","tIm","msgRow","flexDirection","alignItems","msgText","maxWidth","width","setTimeout","en","q","T6","enQ","msgAudio","flot","flotText","flotHx","_id","setStringAsync","MsgImg","w","setW","h","setH","Image","getSize","height","borderRadius"],"sources":["/Users/hez/code/boatApp/src/views/me.js"],"sourcesContent":["import {\n    ActivityIndicator,\n    Alert,\n    FlatList, Image, Modal,\n    Text,\n    TextInput,\n    TouchableHighlight, TouchableOpacity,\n    useColorScheme,\n    useWindowDimensions,\n    View\n} from \"react-native\";\nimport {useCallback, useEffect, useRef, useState} from \"react\";\nimport {styles} from \"../css\";\nimport {Portrait} from \"../component/portrait\";\nimport * as React from \"react\";\nimport {useFocusEffect} from '@react-navigation/native';\nimport {_addStore, _name, _storeDel, _storeLi, _storeQuery, _User} from \"../_Api\";\nimport {Btn, TextClick} from \"../component/btn\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport {upAvatar} from \"../utils/oss\";\nimport {Audio} from \"expo-av\";\nimport {memberFun} from \"../utils/time\";\nimport * as Clipboard from \"expo-clipboard\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nconst host = 'http://192.168.0.100:3000/audio/'\n\n\n\nexport function Me({navigation}) {\n    const colorScheme = useColorScheme();\n    const C1 = colorScheme == 'light' ? styles.lightC1 : styles.darkC1\n    const C2 = colorScheme == 'light' ? styles.lightC2 : styles.darkC2\n    const BbC = colorScheme == 'light' ? styles.lightBbC : styles.darkBbC\n    const MsgColor = colorScheme == 'light' ? styles.lightMsg : styles.darkMsg  //对话框配色\n    const MstText = colorScheme == 'light' ? {color: '#222222'} : {color: '#ffffff'}    //对话框颜色\n    const MeBbc = colorScheme == 'light' ? styles.lightNsgBcB : styles.darkNsgBcB    //对话框颜色\n    const MsgColorTouchable = colorScheme == 'light' ? '#EAEAEA' : '#333C52'    //点击对话框\n    const placeholderColor =  colorScheme == 'light' ? '#222222' :'#ffffff'    //输入框\n\n    const [load, setLoad] = useState(false)\n    const [user, setUser] = useState({})\n    const userRef = useRef(user)\n    userRef.current = user\n\n    const [name, setName] = useState('')    //昵称\n    const [upName, setUpName] = useState(false)    //修改昵称\n    const [store, setStore] = useState([])       //收藏列表\n    const [on,setOn] = useState(NaN)\n    const [word, setWord] = useState([])     //词典\n\n    navigation.addListener('focus', () => {\n        console.log('更新用户信息')\n        _User(cb => {\n            setUser(cb)\n            _storeLi(cb => {\n                console.log('收藏列表', cb)\n                setStore(cb)\n            })\n        })\n        navigation.setOptions({\n            title: \"我的\",\n            headerRight: () => <Text style={[styles.T4, C2, styles.bold,]} onPress={() => Alert.alert('退出登陆', '', [\n                {\n                    text: '确定',\n                    onPress: () => {\n                        AsyncStorage.removeItem('token')\n                        AsyncStorage.removeItem('tokenIn')\n                        navigation.navigate('Login')\n                    }\n                },\n                {\n                    text: '取消',\n                    onPress: () => {\n                    }\n                },\n            ])}>登出</Text>\n        })\n        return () => {\n            console.log('离开我的',)\n        };\n    })\n\n\n    //搜索text内容\n    function onStore(text) {\n        setStore([])\n        let arr = store\n        _storeQuery(text, cb => {\n            console.log('搜索收藏', cb)\n            if(cb.length){\n                setStore(cb)\n            }else {\n                Alert.alert('搜索结果', '没有你想要的结果、',[\n                    {\n                        text:'ok',\n                        onPress:()=> setStore(arr)\n                    }\n                ])\n            }\n\n        })\n    }\n\n    //播放声音\n    const [sound, setSound] = React.useState();\n    const playSound = async ( i,url) => {\n        console.log('播放声音',i,url)\n        if (url != 'null') {\n            setOn(i)\n            const {sound} = await Audio.Sound.createAsync({uri: url});\n            setSound(sound);\n            console.log('Playing Sound');\n            await sound.playAsync();\n        } else {\n            setOn(NaN)\n            sound.unloadAsync();\n        }\n    }\n    useEffect(() => {\n        return sound\n            ? () => {\n                console.log('Unloading Sound');\n                sound.unloadAsync();\n            }\n            : undefined;\n    }, [sound])\n\n\n    return <View style={[styles.Me, C1]}>\n        {/*个人信息*/}\n        <View style={styles.MeUse}>\n            <TouchableHighlight\n                underlayColor={MsgColorTouchable}\n                onPress={() => Alert.alert('替换头像', '', [\n                    {\n                        text: '换头像',\n                        onPress: () => upAvatar(user.id, cb => {\n                            setUser(cb)\n                        })\n                    },\n                    {\n                        text: '取消',\n                        onPress: () => {\n                        }\n                    },\n                ])}\n            >\n                <Portrait w={52} h={52} r={50} t={user.emoji} url={user.avatar}/>\n            </TouchableHighlight>\n\n            <View style={styles.MeUseText}>\n                {upName ? <View style={styles.upName}>\n                    <TextInput returnKeyType={\"done\"}\n                               style={[styles.upNameInput,MstText, {backgroundColor: MsgColorTouchable}]}\n                               defaultValue={user.name}\n                               onSubmitEditing={({nativeEvent: {text, eventCount, target}})=>Alert.alert(\n                                   '昵称变动', '确认修改为:'+text, [\n                                   {\n                                       text: '确定',\n                                       onPress: () => {\n                                           _name(text, newUser => setUser(newUser))\n                                           setUpName(false)\n                                       }\n                                   },\n                                   {\n                                       text: '取消',\n                                       onPress: () => console.log(111)\n                                   }\n                               ])}/>\n                    {/*<Btn text={'👌'} fs={18} press={() => }/>*/}\n                </View> : <TouchableHighlight\n                    underlayColor={MsgColorTouchable}\n                    onPress={() => Alert.alert('修改昵称', '', [\n                        {\n                            text: '修改',\n                            onPress: () => setUpName(true)\n                        },\n                        {\n                            text: '取消',\n                            onPress: () => {\n                            }\n                        },\n                    ])}>\n                    <Text style={[styles.T3, styles.bold, C2]}>{user.name} </Text>\n                </TouchableHighlight>}\n                <Text style={[styles.T5, C2, styles.bold, {opacity: 0.9, marginTop: 6}]}>🆔 {user.id} </Text>\n            </View>\n            <Text>  </Text>\n            <Text style={[styles.T5, styles.bold, styles.vip, {borderWidth: 0}]}\n                  onPress={() => Alert.alert('激活码',\n                      '【词裂】提高词汇与句法，【跟读】加强听力口语', [\n                          {\n                              text: '激活码',\n                              onPress: () => navigation.navigate('Ticket')\n                          },\n                          {\n                              text: '充值',\n                              onPress: () => Alert.alert('正在开发中、','')\n                          },\n                          {\n                              text: '取消',\n                              onPress: () => {\n                              }\n                          },\n                      ])}>{memberFun(user.member)}</Text>\n\n\n        </View>\n\n        {/*搜索收藏*/}\n        <View style={[styles.MeInput]}>\n            <Text style={[MstText, styles.T5, styles.bold]}>🔍</Text>\n            <TextInput style={[styles.MeInputs, styles.T5, MsgColor, MstText,{marginRight: 10}]}\n                       placeholder={'搜索收藏夹'}\n                       placeholderTextColor={placeholderColor}\n                       returnKeyType={\"search\"}\n                       onSubmitEditing={({nativeEvent: {text, eventCount, target}})=>onStore(text)} />\n        </View>\n\n        {/*词典*/}\n        <Modal\n            visible={Boolean(word.length)}\n            onRequestClose={()=>setWord([])}\n            transparent={true}\n            presentationStyle={'overFullScreen'}\n            animationType=\"slide\">\n            <View style={[styles.Word]}>\n                <Text style={[styles.T4,styles.WordBtn]} onPress={()=>setWord([])}>❌</Text>\n                <View style={[styles.Words,C1]}>\n                    {word.map((item,index)=><TouchableOpacity key={'wodr'+index}>\n                        <Text style={[styles.T5,styles.bold,{marginTop:5,marginBottom:10},MstText]} >{item.key} </Text>\n                        {item.value.map((items,i)=> <View key={'wodrs'+i}>\n                            <Text style={[styles.T5, MstText, {marginBottom:10,opacity: 0.8}]}>{items} </Text>\n                        </View>)}\n                        <View style={[BbC, styles.listBbC]}></View>\n                    </TouchableOpacity>)}\n                </View>\n            </View>\n        </Modal>\n\n        {store.length?<FlatList\n            data={store}\n            refreshing={load}\n            onRefresh={() => _storeLi(cb => {\n                console.log('收藏列表', cb)\n                setStore(cb)\n            })}\n            renderItem={({item, index}) => <View style={[styles.ImMsg, {marginLeft: 15}]}>\n                <Portrait w={32} h={32} r={7} url={item.user.avatar} t={item.user.emoji}/>\n                <LeftMsg data={item}\n                         i={index}\n                         on={on}\n                         omWord={(cd)=>setWord(cd)}        //点击词典\n                         onSound={(i,url)=>playSound(i,url)}\n                         storeUp={() => _storeLi(cb => {   //重载\n                             setStore(cb)\n                         })}/>\n            </View>}\n        />:<ActivityIndicator />}\n\n    </View>\n}\n\n\n\nfunction LeftMsg(props) {\n    const {data, storeUp,onSound,i,on,omWord} = props\n    const colorScheme = useColorScheme();\n    const MsgColor = colorScheme == 'light' ? styles.lightMsg : styles.darkMsg  //对话框配色\n    const MsgColorTouchable = colorScheme == 'light' ? '#EAEAEA' : '#333C52'    //点击对话框\n    const MstText = colorScheme == 'light' ? {color: '#222222'} : {color: '#ffffff'}    //对话框颜色\n    const lightNsgBcB = colorScheme == 'light' ? styles.lightNsgBcB : styles.darkNsgBcB    //对话框分割线\n    const window = useWindowDimensions();\n    const [show, setShow] = useState(false) //操作键\n\n    switch (data.tIm) {\n        case 1:\n            return <View style={[styles.msgRow]}>\n                <View style={[{flexDirection: \"row\", alignItems: \"center\"}]}>\n                    <TouchableOpacity style={[styles.msgText, {maxWidth: (0.6 * window.width)}, MsgColor]}\n                                      onPress={() =>data.url == 'null'?onSound(i,'null'): onSound(i,host+data.url)} onLongPress={() => {\n                        setShow(true)\n                        setTimeout(() => {\n                            setShow(false)\n                        }, 3000)\n                    }}>\n                        <Text style={[styles.T5, MstText, styles.en, {opacity: 0.8}]}>{data.q}</Text>\n                        <Text style={[styles.T6, MstText, styles.en, {opacity: 0.8}]}>{data.enQ}</Text>\n                    </TouchableOpacity>\n                    {i == on? <Text style={[styles.msgAudio, styles.T6]}> 🎵</Text>:''}\n                </View>\n                {show ? <View style={[styles.flot, MsgColor]}>\n\n                    {data.word.length?<TouchableOpacity onPress={()=>omWord(data.word)}>\n                        <Text style={[MstText, styles.flotText]} > 词典 </Text>\n                    </TouchableOpacity>:''}\n                    {data.word.length? <View style={[styles.flotHx, lightNsgBcB]}></View>:''}\n\n                    <TouchableOpacity onPress={() =>_storeDel(data._id,cb=>{\n                        storeUp()\n                        setShow(false)\n                    })}>\n                        <Text style={[styles.flotText, MstText]} >删除 </Text>\n                    </TouchableOpacity>\n                    <View style={[styles.flotHx, lightNsgBcB]}></View>\n                    <TouchableOpacity onPress={async () => {\n                        await Clipboard.setStringAsync(data.enQ)\n                        setShow(false)\n                    }}>\n                        <Text style={[styles.flotText, MstText]} >复制译文</Text>\n                    </TouchableOpacity>\n                </View> : ''}\n            </View>\n            break;\n        case 2:\n            return <View style={[styles.msgRow]}>\n                <TouchableHighlight style={[styles.msgText, MsgColor]} activeOpacity={0.3}\n                                    onPress={() => {\n                                    }}\n                                    underlayColor={MsgColorTouchable}>\n                    <Text style={[styles.T5, styles.en, MstText]}> 34 \"</Text>\n                </TouchableHighlight>\n            </View>\n            break;\n        case 3:\n            return <View style={[styles.msgRow]}>\n                <TouchableHighlight activeOpacity={0.5}\n                                    underlayColor={MsgColorTouchable}\n                                    onPress={() => {\n                                    }}>\n                    <MsgImg/>\n                </TouchableHighlight>\n            </View>\n            break;\n    }\n\n\n}\n\n\n//图像裁切\nfunction MsgImg(props) {\n    const [w, setW] = useState(200)\n    const [h, setH] = useState(200)\n\n    const window = useWindowDimensions();\n    useEffect(() => {\n        Image.getSize(props.url, (w, h) => {\n            let maxWidth = window.width * 0.7\n            // console.log(maxWidth, '像素', window.width, w, maxWidth / w, h)\n            if (window.width < w) {\n                setH(h * (maxWidth / w))\n                setW(maxWidth)\n            } else {\n                setH(h)\n                setW(w)\n            }\n        })\n    }, [])\n\n    return <Image\n        style={[{width: w, height: h, borderRadius: 5}]}\n        source={{\n            uri: props.url,\n        }}\n    />\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}